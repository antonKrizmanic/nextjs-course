{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Anton\\\\source\\\\repos\\\\nextjs-course\\\\pages\\\\last-sales.js\";\nimport { useEffect, useState } from 'react';\nimport useSWR from 'swr';\n\nfunction LastSalesPage(props) {\n  const {\n    0: sales,\n    1: setSales\n  } = useState(props.sales); // const [isLoading, setIsLoading] = useState(false);\n\n  const {\n    data,\n    error\n  } = useSWR('https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json', url => fetch(url).then(res => res.json()));\n  useEffect(() => {\n    if (data) {\n      const transformedSales = [];\n\n      for (const key in data) {\n        transformedSales.push({\n          id: key,\n          username: data[key].username,\n          volume: data[key].volume\n        });\n      }\n\n      setSales(transformedSales);\n    }\n  }, [data]); // useEffect(() => {\n  //   setIsLoading(true);\n  //   fetch('https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json')\n  //     .then((response) => response.json())\n  //     .then((data) => {\n  //       const transformedSales = [];\n  //       for (const key in data) {\n  //         transformedSales.push({\n  //           id: key,\n  //           username: data[key].username,\n  //           volume: data[key].volume,\n  //         });\n  //       }\n  //       setSales(transformedSales);\n  //       setIsLoading(false);\n  //     });\n  // }, []);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Failed to load.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (!data && !sales) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: sales === null || sales === void 0 ? void 0 : sales.map(sale => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [sale.username, \" - $\", sale.volume]\n    }, sale.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n} // export async function getStaticProps() {\n//     const response = await fetch(\n//         'https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json'\n//     );\n//     const data = await response.json();\n//     const transformedSales = [];\n//     for (const key in data) {\n//         transformedSales.push({\n//             id: key,\n//             username: data[key].username,\n//             volume: data[key].volume,\n//         });\n//     }\n//     return { props: { sales: transformedSales } };\n// }\n\n\nexport default LastSalesPage;","map":{"version":3,"sources":["C:/Users/Anton/source/repos/nextjs-course/pages/last-sales.js"],"names":["useEffect","useState","useSWR","LastSalesPage","props","sales","setSales","data","error","url","fetch","then","res","json","transformedSales","key","push","id","username","volume","map","sale"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,KAAnB;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAACG,KAAK,CAACC,KAAP,CAAlC,CAD0B,CAE1B;;AAEA,QAAM;AAAEE,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBN,MAAM,CAAC,oEAAD,EAAwEO,GAAD,IAASC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAvB,CAAhF,CAA9B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,IAAJ,EAAU;AACN,YAAMO,gBAAgB,GAAG,EAAzB;;AAEA,WAAK,MAAMC,GAAX,IAAkBR,IAAlB,EAAwB;AACpBO,QAAAA,gBAAgB,CAACE,IAAjB,CAAsB;AAClBC,UAAAA,EAAE,EAAEF,GADc;AAElBG,UAAAA,QAAQ,EAAEX,IAAI,CAACQ,GAAD,CAAJ,CAAUG,QAFF;AAGlBC,UAAAA,MAAM,EAAEZ,IAAI,CAACQ,GAAD,CAAJ,CAAUI;AAHA,SAAtB;AAKH;;AAEDb,MAAAA,QAAQ,CAACQ,gBAAD,CAAR;AACH;AACJ,GAdQ,EAcN,CAACP,IAAD,CAdM,CAAT,CAN0B,CAsB1B;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,MAAIC,KAAJ,EAAW;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAI,CAACD,IAAD,IAAS,CAACF,KAAd,EAAqB;AACjB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBACI;AAAA,cACKA,KADL,aACKA,KADL,uBACKA,KAAK,CAAEe,GAAP,CAAYC,IAAD,iBACR;AAAA,iBACKA,IAAI,CAACH,QADV,UACwBG,IAAI,CAACF,MAD7B;AAAA,OAASE,IAAI,CAACJ,EAAd;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AASH,C,CAED;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA,eAAed,aAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport useSWR from 'swr';\r\n\r\nfunction LastSalesPage(props) {\r\n    const [sales, setSales] = useState(props.sales);\r\n    // const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const { data, error } = useSWR('https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json', (url) => fetch(url).then(res => res.json()));\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            const transformedSales = [];\r\n\r\n            for (const key in data) {\r\n                transformedSales.push({\r\n                    id: key,\r\n                    username: data[key].username,\r\n                    volume: data[key].volume,\r\n                });\r\n            }\r\n\r\n            setSales(transformedSales);\r\n        }\r\n    }, [data]);\r\n\r\n    // useEffect(() => {\r\n    //   setIsLoading(true);\r\n    //   fetch('https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json')\r\n    //     .then((response) => response.json())\r\n    //     .then((data) => {\r\n    //       const transformedSales = [];\r\n\r\n    //       for (const key in data) {\r\n    //         transformedSales.push({\r\n    //           id: key,\r\n    //           username: data[key].username,\r\n    //           volume: data[key].volume,\r\n    //         });\r\n    //       }\r\n\r\n    //       setSales(transformedSales);\r\n    //       setIsLoading(false);\r\n    //     });\r\n    // }, []);\r\n\r\n    if (error) {\r\n        return <p>Failed to load.</p>;\r\n    }\r\n\r\n    if (!data && !sales) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    return (\r\n        <ul>\r\n            {sales?.map((sale) => (\r\n                <li key={sale.id}>\r\n                    {sale.username} - ${sale.volume}\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n\r\n// export async function getStaticProps() {\r\n//     const response = await fetch(\r\n//         'https://nextjs-course-c81cc-default-rtdb.firebaseio.com/sales.json'\r\n//     );\r\n//     const data = await response.json();\r\n\r\n//     const transformedSales = [];\r\n\r\n//     for (const key in data) {\r\n//         transformedSales.push({\r\n//             id: key,\r\n//             username: data[key].username,\r\n//             volume: data[key].volume,\r\n//         });\r\n//     }\r\n\r\n//     return { props: { sales: transformedSales } };\r\n// }\r\n\r\nexport default LastSalesPage;"]},"metadata":{},"sourceType":"module"}